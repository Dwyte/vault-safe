(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(96)},49:function(e,t,a){},50:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),u=a(41),c=a.n(u),o=(a(49),a(50),a(21)),l=a(2),i=a.n(l),s=a(8),p=a(10),m=function(e){var t=e.todo,a=e.completeTodo,n=e.removeTodo;return r.a.createElement("div",{className:"todo mb",style:{textDecoration:t.completed?"line-through":"none"}},t.title,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return a(t._id)}},"Done"),r.a.createElement("button",{onClick:function(){return n(t._id)}},"x")))},f=function(e){var t=e.addTodo,a=Object(n.useState)(""),u=Object(p.a)(a,2),c=u[0],o=u[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c&&(t(c),o(""))}},r.a.createElement("input",{type:"text",className:"input",placeholder:"Enter anything, todos, notes, secrets, anything! (max 45)",maxLength:"45",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}}))},v=a(11),d=a.n(v),h=a(18),b=a.n(h),g=a(19),E=a.n(g),S={get:E.a.get,put:E.a.put,post:E.a.post,delete:E.a.delete},y=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post("/api/vaults",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("".concat("/api/vaults","/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("".concat("/api/vaults","/get/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(i.a.mark(function e(t,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.put("".concat("/api/vaults","/").concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),j=d.a.AES,k=function(e){var t=Object(n.useState)([]),a=Object(p.a)(t,2),u=a[0],c=a[1];Object(n.useEffect)(function(){var e=JSON.parse(localStorage.getItem("currentVault")),t=e.vault,a=e.vaultKey,n=JSON.parse(j.decrypt(t,a).toString(d.a.enc.Utf8));c(n)},[]);var l=function(){var e=Object(s.a)(i.a.mark(function e(t){var a,n,r,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("currentVault")),n=a.auth,r=a.vault,u=a.vaultKey,r=j.encrypt(JSON.stringify(t),u).toString(),e.prev=2,e.next=5,x(n,{auth:n,vault:r});case 5:localStorage.setItem("currentVault",JSON.stringify({auth:n,vault:r,vaultKey:u})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=Object(o.a)(u);t.find(function(t){return t._id===e}).completed=!0,c(t),l(t)},h=function(e){var t=Object(o.a)(u),a=t.find(function(t){return t._id===e});t.splice(t.indexOf(a),1),c(t),l(t)};return r.a.createElement(r.a.Fragment,null,u.map(function(e,t){return r.a.createElement(m,{key:t,todo:e,completeTodo:v,removeTodo:h})}),r.a.createElement(f,{addTodo:function(e){var t={_id:b()(8),title:e,completed:!1},a=[].concat(Object(o.a)(u),[t]);c(a),l(a)}}),r.a.createElement("a",{onClick:function(){localStorage.removeItem("currentVault")},href:"/login"},r.a.createElement("small",null,"Exit Vault")))},N=a(12),V=d.a.SHA256,C=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),u=a[0],c=a[1],o=Object(n.useState)(""),l=Object(p.a)(o,2),m=l[0],f=l[1],v=function(){var e=Object(s.a)(i.a.mark(function e(t){var a,n,r,c,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=V(u+m).toString(),n=V(a+m).toString(),e.prev=3,e.next=6,O(n);case 6:r=e.sent,c=r.data,o=c.vault,d({auth:n,vaultKey:a,vault:o}),window.location.replace("/vault"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),alert("Vault not found");case 16:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}(),d=function(e){e=JSON.stringify(e),localStorage.setItem("currentVault",e)};return r.a.createElement("form",{onSubmit:v},r.a.createElement("input",{type:"text",className:"input mb",placeholder:"Username",value:u,onChange:function(e){return c(e.target.value)},autoFocus:!0}),r.a.createElement("input",{type:"password",className:"input mb",placeholder:"Password",value:m,onChange:function(e){return f(e.target.value)}}),r.a.createElement("input",{className:"submit",type:"submit",value:"Open Vault"}),r.a.createElement("a",{href:"/register"},r.a.createElement("small",null,"Don't have a vault yet?")))},J=d.a.SHA256,I=d.a.AES,_=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),u=a[0],c=a[1],o=Object(n.useState)(""),l=Object(p.a)(o,2),m=l[0],f=l[1],v=function(){var t=Object(s.a)(i.a.mark(function t(a){var n,r,c,o,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n=J(u).toString(),t.next=4,w(n);case 4:if(!t.sent.data){t.next=8;break}return t.abrupt("return",alert("Vault with username already exists."));case 8:return r=J(u+m).toString(),c=J(r+m).toString(),o=I.encrypt(JSON.stringify([{_id:b()(8),title:"Welcome to VaultSafe"},{_id:b()(8),title:"Your secrets are safe on the cloud!"}]),r).toString(),l={userHash:n,auth:c,vault:o},t.prev=12,t.next=15,y(l);case 15:alert("Vault created"),e.history.push("/login"),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(12),alert(t.t0);case 22:case"end":return t.stop()}},t,null,[[12,19]])}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:v},r.a.createElement("input",{type:"text",className:"input mb",placeholder:"Username",value:u,onChange:function(e){return c(e.target.value)},autoFocus:!0}),r.a.createElement("input",{type:"password",className:"input mb",placeholder:"Password",value:m,onChange:function(e){return f(e.target.value)}}),r.a.createElement("input",{className:"submit",type:"submit",value:"Create Vault"}),r.a.createElement("a",{href:"/login"},r.a.createElement("small",null,"Already have a vault?")))},A=function(){return r.a.createElement("footer",{className:"container"},r.a.createElement("small",null,"VaultSafe | About"))},D=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},Boolean(localStorage.getItem("currentVault"))?r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/vault",component:k}),r.a.createElement(N.a,{from:"/",to:"/vault"})):r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/login",component:C}),r.a.createElement(N.b,{path:"/register",component:_}),r.a.createElement(N.a,{form:"/vault",exact:!0,to:"/login"}))),r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(25);c.a.render(r.a.createElement(T.a,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.784e4253.chunk.js.map